## История изменений

### HEAD 

- Добавлена функция паники, завершающая приложения с подробным логом ошибки (`lf::panic`)
- Добавлен метод классу `Logger::logger() const`, возвращающий указатель на внутренний логгер.
- Добавлен метод `LoggerBuilder::with_default(bool)`, позволяющий задать, будет ли логгер являться логгером по умолчанию. По умолчанию - `false`.

## Версия `0.8.0` (*12.05.2024*)

#### Нововведения 

- Добавлены расширения для классов `lf::expected` и `std::optional`
- Добавлен псевдоним `Result<T>` и `pmr::Result<T, E>`, который является псевдонимом для `expected<T, std::string>` и `expected<T, E>` соответственно. Рекомендуется использовать именно этот тип для обозначения результата выполнения функции, так как он предоставляет дополнительную абстракцию для совместимости API и удобства использования.
- Добавлен псевдоним `Option<T>` для `std::optional`.
- Добавлены вспомогательные методы  `lf::Error(...)` и `lf::Ok(...)` для `expected`/`Result<T, E>`
- Добавлены вспомогательные методы `lf::Some(...)` и `lf::None` для `optional`/`Option<T>`
- Добавлен новый типаж (концепт + интерфейс): `lf::trait::Into<T>`, который предоставляет функцию `into() const -> T`

Примеры использования новых типов `Result<T>` и `Option<T>`:

Для функции с возвращаемым типом `void`:

```cpp
using namespace lf::types;

auto returns_void(int x) -> Result<> {
    if(x > 0)
        return Error("x is positive, should be negative ({})", x);
    return Ok();
}
```

Для функции с обычным возвращаемым типом:

```cpp
auto divide_by_then_sqrt(float a, float x) -> Result<float> {
    if(x == 0)
        return Error("division by zero");
    return Ok(a / x).map(std::sqrt);
}
```

Опциональные значения:

```cpp
template <typename T>
auto first(std::vector<T> const& vec) -> Option<T> {
    if(vec.empty())
        return None;
    return Some(vec.front());
}
```

#### Изменения

- `lf::expected` теперь является псевдонимом для `std::expected`, если он доступен на текущей платформе (включая монадические функции). 
- `lf::source_location` теперь является псевдонимом для `std::source_location`, если таковая доступна на текущей платформе. 

#### Удалены

- Функция/метод `lf::Err` объявлена как **deprecated** начиная с этой версии. Вместо нее стоит использовать методы `lf::types::Error` и `lf::types::Ok`.

#### Прочее

- Добавлены дополнительные тесты 



### Версия `0.7.5` (*07.05.2024*)

- Мелкие исправления и фиксы

### Версия `0.7.4` (*07.05.2024*)

- Удалены старые концепты в пространстве имен `lf::traits`
- Добавлены новые концепты и типажи в тот же заголовочный файл `<leaf/traits.h>`:
  - `Debug` - предоставляет функцию `debug_str()`
  - `Display` - предоставляет преобразования к строке

- Добавлены макросы для автогенерации форматтера для `fmt::format` для всех типажей, реализующих `Debug` или `Display` соответственно.

### Версия `0.7.2` (*05.05.2024*)

- CI/CD для ОС Linux
- Правки в `lf::source_location`: теперь разделяет одинаковый API с `std::source_location`

### Версия `0.7.1` (*04.05.2024*)

- Мелкие исправления и фиксы в заголовочном файле `<leaf/memory.h>`



## Версия `0.7.0` (*04.05.2024*)

- Значительные добавления в файле `<leaf/memory.h>`:
  - Классы-обертки `NonNullRelaxed<T>` и `NonNull<T>` для сырых/умных указателей, которые гарантируют, что указатель не будет нулевым.
  - `make_non_null_relaxed<T>` и `make_non_null<T>` функции для создания таких типов.
- Новые приведения:
  - `narrow_cast<T>` для приведения между численными типами
  - `narrow_strict_cast<T>` для гарантии приведения без потери данных. В случае, если произойдет сжатие типа, будет выброшено исключение.

- Мелкие исправления и фиксы

### Версия `0.6.4` (*03.05.2024*)

- Исправлен конфликт имен в файле `<leaf/os.h>`

### Версия `0.6.3` (*03.05.2024*)

- Мелкие исправления и фиксы

### Версия `0.6.1` (*03.05.2024*)

- Новый заголовочный файл `<leaf/memory.h>`
- Добавлены функции:
  - `make_unique_nothrow`, `make_shared_nothrow`, не выбрасывающие исключений
  - `wrap_unique` для конверсии результата вызова оператора *new* в умный указатель
  - `make_shared_from_unique` для конверсии между умными указателями

### Версия `0.6.0` (*28.04.2024*)

- Удален класс `LogConfig`
- В заголовочный файл `<leaf/os.h>` добавлены макросы и перечисления, предоставляющие информацию о платформе и ОС.

### Версия `0.5.0` (*21.04.2024*)

- Миграция на пакетный менеджер Conan 2
- Удалена зависимость от модуля `cmake`
- Теперь библиотека по умолчанию собирается в виде динамической библиотеки

### Версия `0.4.6` (*12.04.2024*)

- Мелкие исправления и фиксы 

### Версия `0.4.4` (*11.04.2024*)

- Добавлен псевдоним для пространства имен `leaf`: `lf`
- Удалены лишние сообщения в основном логгере

### Версия `0.4.3` (*10.04.2024*)

- Мелкие исправления и фиксы в классе `LoggerBuilder`
- Класс `leaf::log::LogFileConfiguration` помечен как **deprecated**. Он будет удален в ближайших версиях.

### Версия `0.4.2` (*01.04.2024*)

- Обновление зависимостей

### Версия `0.4.1` (*12.03.2024*)

- Исправлен баг на ОС Windows с новой реализацией логгера, приводящей к зависанию в DLLMain

### Версия `0.4.1` (*01.03.2024*)

- Добавлен новый логгер в заголовочном файле `<leaf/logger.h>`
- Добавлена зависимость от библиотеки `magic_enum`
- Исправления ошибок

### Версия `0.3.6` (*25.02.2024*)

- Добавлена метафункция для конверсии из одного типа в другой:
  - ```cpp
    conversion::into<From, To>
    ```
- Исправлена ошибка с функцией `Err`
- Исправлен минорный баг в классе `pattern::IObservable<T...>`
- Рефакторинг CMake-файла
- Добавлен адаптер для `fmt::format` для класса `source_location`
  
### Версия `0.3.3` *(19.02.2024)*
- Добавлены функции общей математики: 
  - ```cpp
    ::to_radians<T>  // перевод градусов в радианы
    ::to_degrees<T>  // перевод радиан в градусы
    ::logp<T, U>     // логарифм по основанию T числа U
    ```

### Версия `0.3.2` *(18.02.2024)*
- Финальные правки секции установки библиотеки
- Убраны промежуточные пакеты/сабмодули
- Убраны shell-скрипты установщика. Теперь установка происходит через систему CMake

### Версия `0.3.1` *(17.02.2024)*
- Улучшена система установки библиотеки
- Автоматический поиск и построение зависимостей на библиотеки `spdlog`, `fmtlib`
- Добавлены функции: 
  - ```cpp
    ::eq<T, U>  // для сравнения двух любых чисел с учетом эпсилона
    ::null<T>   // для сравнения любого числа с нулем с учетом эпсилона    
    ```

### Версия `0.3.0` *(16.02.2024)*
- Изначальная стабильная версия библиотеки